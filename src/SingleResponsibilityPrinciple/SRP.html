<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

    <title>Single Responsibility Principle</title>

    <link rel="stylesheet" href="../../lib/reveal.js-3.4.1/css/reveal.css">
    <link rel="stylesheet" href="../../lib/reveal.js-3.4.1/css/theme/black.css">

    <!-- Theme used for syntax highlighting of code -->
    <link rel="stylesheet" href="../../lib/reveal.js-3.4.1/lib/css/zenburn.css">

    <!-- Printing and PDF exports -->
    <script>
        var link = document.createElement('link');
        link.rel = 'stylesheet';
        link.type = 'text/css';
        link.href = window.location.search.match(/print-pdf/gi) ? '../../lib/reveal.js-3.4.1/css/print/pdf.css' : '../../lib/reveal.js-3.4.1/css/print/paper.css';
        document.getElementsByTagName('head')[0].appendChild(link);
    </script>
</head>
<body>

<div class="reveal">

    <!-- Any section element inside of this container is displayed as a slide -->
    <div class="slides">
        <section>
            <h1>Single Responsibility Principle</h1>
        </section>

        <section>
            <p>Goal</p>
            <h3>Apply to more than just classes</h3>
        </section>

        <section>
            <img src="images/LevelTriangle.PNG" />

            <aside class="notes">
                <ul>
                    <li>From micro to macro.</li>
                    <li>Cover Later:  Business Bias</li>
                </ul>
            </aside>

        </section>

        <section>
            <p>Can be used as a software architecture guideline.</p>
        </section>

        <section>
            <h4>Function</h4>

            <section>
                <img src="images/LevelTriangle01Function.PNG" />

                <aside class="notes">
                    <ul>
                        <li>Delay defining SRP.</li>
                    </ul>
                </aside>

            </section>

            <section>
                <img src="../images/CleanCode.jpg" />

                <aside class="notes">
                    <ul>
                        <li>Covers: variable names, functions and function structure, code form.</li>
                    </ul>
                </aside>

            </section>

            <!-- Extra Resources : Robert marting videos -->
            <!-- Extra Resources : Plural Sight -->

            <section>
                <p>Functions should do one thing. They should do it well.  They should do it only.</p>
                <p><small>-- Robert Martin</small></p>

                <aside class="notes">
                    <ul>
                        <li>Is Extreme SRP</li>
                    </ul>
                </aside>

            </section>

            <section>
                <p>4 or less lines is a good size.</p>

                <aside class="notes">
                    <ul>
                        <li>Functions this small are probably going to do ONLY 1 thing.</li>
                        <li>This is HARD.</li>
                        <li>Robert Martin is extreme.  You WILL have functions more than 4 lines.</li>
                    </ul>
                </aside>

            </section>

            <section>
                <h3><a href="SRPCodeSamples.html#FunctionTooMuch" target="_blank">Code Example</a></h3>

                <aside class="notes">
                    <ul>
                        <li>From Returns 2.0</li>
                    </ul>
                </aside>

            </section>

        </section>

        <section>
            <h4>Class</h4>

            <section>
                <img src="images/LevelTriangle02Class.PNG" />
            </section>

            <section>
                <img src="../images/AgileSoftwareDev.jpg" />
            </section>

            <section>
                <p>A class should have only one reason to change.</p>
                <p><small>-- Robert Martin</small></p>

                <aside class="notes">
                    <ul>
                        <li>This is the original definition.</li>
                    </ul>
                </aside>

            </section>

            <section>
                <h3>reason to change???</h3>
            </section>

            <section>
                <h3>Why Change</h3>
                <ul>
                    <li>Technical Reasons</li>
                    <li>Business Reasons</li>
                </ul>

                <aside class="notes">
                    <ul>
                        <li>There could be others but mostly these.</li>
                    </ul>
                </aside>

            </section>

            <section>
                <h4>Have a bias toward Business Reasons</h4>

                <aside class="notes">
                    <ul>
                        <li>If you are in a place where you separate by both:  choose business reason.</li>
                    </ul>
                </aside>

            </section>

            <section>
                <p>Example</p>
                <h3>Contact Management (CRM)</h3>
            </section>

            <section>
                <h4>Company Report</h4>
                <img src="images/ContactReport.png" />
            </section>

            <section>
                <img src="images/PlanUml_SingleClass.png" />
            </section>

            <section>
                <img src="images/PlanUml_SeparateTech.png" />
            </section>

            <section>
                <img src="images/PlanUml_SeparateTechAndBusiness.png" />
            </section>

        </section>


        <section>
            <h4>Module</h4>

            <section>
                <img src="images/LevelTriangle03Module.PNG" />

                <aside class="notes">
                    <ul>
                        <li>Cover Now:  Business Bias</li>
                    </ul>
                </aside>

            </section>

            <section>
                <p>A collection of classes and functions.</p>

                <aside class="notes">
                    <ul>
                        <li>If we know the responsibilities of the classes then we can know the responsibilities of the modules.</li>
                    </ul>
                </aside>

            </section>

            <section>
                <p>A module should have a well defined set of reasons to change...</p>

            </section>

            <section>
                <p>...and these reasons should have a bias toward a business outcome.</p>

                <aside class="notes">
                    <ul>
                        <li>If we have a set of classes or functions that can be separated by business or technology then choose business.</li>
                    </ul>
                </aside>
            </section>

            <section>
                <h3>Categories</h3>
                <ol>
                    <li>Business Logic</li>
                    <li>Abstract you from Implementation Details</li>
                    <li>Delivery Mechanisms</li>
                </ol>

                <aside class="notes">
                    <ul>
                        <li>There could be more categories... not really sure.</li>
                    </ul>
                </aside>
            </section>

            <section>
                <h3>Cohesion</h3>
                <p>put similar things together</p>
            </section>

            <section>
                <h3>Organize Folders by Use Case</h3>
                <img src="../images/PortfolioServiceFolders.png" />

                <aside class="notes">
                    <ul>
                        <li>AKA. Business, story, etc.</li>
                        <li>The business will request changes to the system.</li>
                        <li>Would be nice if the words they used matched the folders.</li>
                    </ul>
                </aside>
            </section>

            <section>
                <h3>Folders Gone Wrong</h3>
                <img src="images/MVCFolders.PNG" />

                <aside class="notes">
                    <ul>
                        <li>There has been recognition in the SE community that this is a bad idea.</li>
                    </ul>
                </aside>

            </section>

        </section>

        <section>
            <h4>System</h4>

            <section>
                <img src="images/LevelTriangle04System.PNG" />
            </section>

            <section>
                <ul>
                    <li>is "deployable"</li>
                    <li>can be made up of multiple executables elements on multiple machines</li>
                </ul>
            </section>

            <section>
                <h3>High Business Bias</h3>
            </section>

            <section>
                <img src="images/NTier.PNG" />

                <aside class="notes">
                    <ul>
                        <li>This is a technical layout.</li>
                        <li>Talk about how this architecture changes...</li>
                        <li>How many layers to we have to deploy to add data elements to the system?</li>
                    </ul>
                </aside>

            </section>

            <section>
                <img src="images/NTierSlice.PNG" />

                <aside class="notes">
                    <ul>
                        <li>We tend to change the software vertically.</li>
                    </ul>
                </aside>

                <!-- Extra Resources : Slices not Layers -->

            </section>

            <section>
                <h3><a href="http://blog.cleancoder.com/uncle-bob/2012/08/13/the-clean-architecture.html" target="_blank">Clean Architecture</a></h3>
                <p>Onion Architecture</p>
            </section>

            <section>
                <img src="images/CleanArchAlt.PNG" style="width: 50%; height: 50%">

                <aside class="notes">
                    <ul>
                        <li>Two Parts: Requirements Gathering, Domain Modeling Patterns / OOP Patterns</li>
                        <li>Mistake Concentrating on just OOP Patterns</li>
                    </ul>
                </aside>

            </section>

            <section>
                <p>Identifying Slices</p>
                <h3>Bounded Context</h3>
            </section>

            <section>
                <img src="../images/DomainDrivenDesignBook.jpg" />
            </section>

            <section>
                <p>Domain Driven Design</p>
                <h3><a href="https://martinfowler.com/bliki/BoundedContext.html" target="_blank">Bounded Context</a></h3>


                <aside class="notes">
                    <ul>
                        <li>We HAVE to understand the business to do this well.</li>
                    </ul>
                </aside>

            </section>

            <section>
                <img src="images/NTierSliceBoundedContext.PNG" />
            </section>

            <section>
                <img src="images/BoundedContextExample.PNG" />
            </section>

            <section>
                <h3>Business Logic <==> Data</h3>
            </section>

            <section>
                <img src="images/PluarlSightBC.PNG" />
            </section>

            <section>
                <h3><a href="http://reportcenter.dimensional.com/Portfolio/Detail?portfolioNumber=7&dataUpdateId=493&currency=USD" target="_blank">Report Center</a></h3>
                <img src="images/ReportCenterExample.PNG" />
            </section>

            <!--

            Do not net your UI influence you contexts

            Do we need an example

            Separating UI from backend => Anti Pattern

            -->

        </section>

        <section>
            <h4>Team</h4>

            <section>
                <img src="images/LevelTriangle05Team.PNG" />
            </section>

            <section>
                <p>Team should understand what business outcomes they are and are NOT responsible.</p>
            </section>

            <section>
                <h3>Autonomy</h3>
            </section>

            <section>
                <img src="images/BoundedContextSeveral.PNG" />
            </section>

            <section>
                <img src="images/SoaFromBC.PNG" />
            </section>

            <section>
                <img src="images/SoaFromDevOps.PNG" />
            </section>

            <section>
                <img src="images/PluarlSightBCPeople.PNG" />
            </section>

            <!-- Heading to the hardware is real DevOps -->

            <section>
                <p>But we have no bounded context.</p>
                <p>:(</p>

                <aside class="notes">
                    <ul>
                        <li>Joke: Get going on the rewrites.</li>
                        <li>If there are small changes to get to bounded context while making changes... make them</li>
                    </ul>
                </aside>
            </section>

            <section>
                <h3>Understand Your Reasons to Change</h3>
                <p>and resons you would like to STOP changing.</p>
            </section>

            <section>
                <h3>Team Responsibilities</h3>
                <ul>
                    <li>Clients and their Properties</li>
                    <li>Sales Pipeline</li>
                    <li>Fund Onboarding</li>
                    <li>Client AUM Calculation</li>
                    <li>GIPS Composites *</li>
                    <li>Portfolios *</li>
                </ul>
            </section>

            <section>
                <h3>Responsibilities to Shed</h3>
                <ul>
                    <li>Fund Trade Calculations</li>
                    <li>Fund Trade Reporting</li>
                    <li>Equity Characteristics Aggregation</li>
                    <li>Fixed Income Characteristics Aggregation</li>
                </ul>
            </section>

            <!--

            Anti-Pattern
                Transfering Large Amounts of Data
                Data Layer Team
                File Processing / ETL TEam


            Watch out for cross cutting concern systems and third parties

            -->

        </section>

    </div>

</div>

<script src="../../lib/reveal.js-3.4.1/lib/js/head.min.js"></script>
<script src="../../lib/reveal.js-3.4.1/js/reveal.js"></script>

<script>
    // More info https://github.com/hakimel/reveal.js#configuration
    Reveal.initialize({
        history: true,

        // More info https://github.com/hakimel/reveal.js#dependencies
        dependencies: [
            {src: '../../lib/reveal.js-3.4.1/plugin/markdown/marked.js'},
            {src: '../../lib/reveal.js-3.4.1/plugin/markdown/markdown.js'},
            {src: '../../lib/reveal.js-3.4.1/plugin/notes/notes.js', async: true},
            {
                src: '../../lib/reveal.js-3.4.1/plugin/highlight/highlight.js', async: true, callback: function () {
                hljs.initHighlightingOnLoad();
            }
            }
        ]
    });
</script>
</body>
</html>

<!--

Arch Horror Stories

- Using tables to track meta data about tables (we can add columns without changing the database)
- Buffet Style of Data Distribution
- Event Sourcing != Table Replication
- Table CRUD over HTTP

-->